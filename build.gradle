plugins {
    id 'java'
}

group 'com.github.nemanovich'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    implementation group: 'junit', name: 'junit', version: '4.12'
    implementation group: 'org.hamcrest', name: 'hamcrest-all', version: '1.3'

    //db
    implementation 'org.testcontainers:testcontainers:1.12.0'
    implementation 'org.testcontainers:oracle-xe:1.10.2'
    implementation "com.oracle.ojdbc:ojdbc8:19.3.0.0"
    implementation group: 'org.jdbi', name: 'jdbi3-sqlobject', version: '3.13.0'
}


tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.forkOptions.jvmArgs << "-Duser.language=en-US" //fix NLS_LANG problem for oracle-xe
}

tasks.withType(Test) {
    useJUnit()
    outputs.upToDateWhen { false }  //always run tests
}

